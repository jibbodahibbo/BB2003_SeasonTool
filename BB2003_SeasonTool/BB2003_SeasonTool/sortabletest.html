<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>

<link rel="stylesheet" href="swappy.css">

  </head>
  <body>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
      <script src="http://code.jquery.com/ui/1.8.20/jquery-ui.min.js" type="text/javascript"></script>




   <div id="maindiv">
        <h3>
                   <span>Swap items between lists</span></h3>
           <div id="dragdiv">

               <ul id="allItems" runat="server">
                   <li id="node1">Item A</li>
                   <li id="node2">Item B</li>
                   <li id="node3">Item C</li>
                   <li id="node4">Item D</li>
                   <li id="node5">Item E</li>
                   <li id="node6">Item F</li>
                   <li id="node7">Item G</li>
                   <li id="node8">Item H</li>
                   <li id="node9">Item I</li>
               </ul>
           </div>

                   <div id="dragdiv">

               <ul id="allItems" runat="server">
                   <li id="node1">Item 1</li>
                   <li id="node2">Item 2</li>
                   <li id="node3">Item 3</li>
                   <li id="node4">Item 4</li>
                   <li id="node5">Item 5</li>
                   <li id="node6">Item 6</li>
                   <li id="node7">Item 7</li>
                   <li id="node8">Item 8</li>
                   <li id="node9">Item 9</li>
               </ul>
           </div>

       </div>

<script type="text/javascript">

  $(function() {
             $("#dragdiv li,#dropdiv li").draggable({
                 appendTo: "body",
                 helper: "clone",
                 cursor: "move",
                 revert: "invalid"
             });

             initDroppable($("#dropdiv li,#dragdiv li"));
             function initDroppable($elements) {
                 $elements.droppable({
                     activeClass: "ui-state-default",
                     hoverClass: "ui-drop-hover",
                     accept: ":not(.ui-sortable-helper)",

                     over: function(event, ui) {
                         var $this = $(this);
                     },
                     drop: function(event, ui) {
                         var $this = $(this);
                         var li1 = $('<li>' + ui.draggable.text() + '</li>')
                         var linew1 = $(this).after(li1);

                         var li2 = $('<li>' + $(this).text() + '</li>')
                         var linew2 = $(ui.draggable).after(li2);

                         $(ui.draggable).remove();
                         $(this).remove();

                         initDroppable($("#dropdiv li,#dragdiv li"));
                         $("#dragdiv li,#dropdiv li").draggable({
                             appendTo: "body",
                             helper: "clone",
                             cursor: "move",
                             revert: "invalid"
                         });
                     }
                 });
             }
         });

</script>



  </body>
</html>
